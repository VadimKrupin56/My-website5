(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("sidebar"),i=document.getElementById("open-sidebar"),c=document.getElementById("close-sidebar"),r=document.querySelector(".overlay");if(!i||!c||!r){console.error("❌ Не все элементы найдены:",{openBtn:i,closeBtn:c,overlay:r});return}c.addEventListener("click",function(t){t.preventDefault(),s.classList.add("hidden"),r.classList.add("hidden"),document.body.style.overflow=""}),i.addEventListener("click",function(t){t.preventDefault(),s.classList.remove("hidden"),r.classList.remove("hidden"),document.body.style.overflow="hidden"}),r.addEventListener("click",function(){s.classList.add("hidden"),r.classList.add("hidden"),document.body.style.overflow=""}),document.addEventListener("keydown",function(t){t.key==="Escape"&&!s.classList.contains("hidden")&&(s.classList.add("hidden"),r.classList.add("hidden"),document.body.style.overflow="")});const e=document.querySelector(".feedback-form"),o=document.querySelectorAll(".open-button-message"),d=document.querySelectorAll(".close-button-message");e?(o.forEach(t=>{t.addEventListener("click",function(n){n.preventDefault(),e.classList.add("open"),document.body.style.overflow="hidden"})}),d.forEach(t=>{t.addEventListener("click",function(n){n.preventDefault(),e.classList.remove("open"),document.body.style.overflow=""})})):console.error("❌ Форма .feedback-form не найдена");const p=document.querySelector(".feedback-form--one"),E=document.querySelectorAll(".open-button-feedback"),k=document.querySelectorAll(".close-btn-feedback");p&&(E.forEach(t=>{t.addEventListener("click",function(n){n.preventDefault(),p.classList.add("open"),document.body.style.overflow="hidden"})}),k.forEach(t=>{t.addEventListener("click",function(n){n.preventDefault(),p.classList.remove("open"),document.body.style.overflow=""})}));const y=document.querySelector(".button__skip"),w=document.querySelector(".serv__text_mobile"),f=document.querySelector(".win");y&&y.addEventListener("click",function(t){t.preventDefault();const n=window.innerWidth;y.style.display="none",n<768?(w&&(w.style.display="block"),f&&(f.style.display="block")):n>=768&&n<1120&&f&&(f.style.display="block")});let l=null,a=null,u=null;function v(){l&&l.destroy(),a&&a.destroy(),u&&u.destroy(),window.innerWidth<768&&(l=new Swiper(".brands .swiper-container",{slidesPerView:"auto",spaceBetween:16,pagination:{el:".brands .swiper-pagination",clickable:!0},observer:!0,observeParents:!0}),a=new Swiper(".repair .swiper-container",{slidesPerView:"auto",spaceBetween:16,pagination:{el:".repair .swiper-pagination",clickable:!0},observer:!0,observeParents:!0}),u=new Swiper(".price .swiper-container",{slidesPerView:"auto",spaceBetween:16,pagination:{el:".price .swiper-pagination",clickable:!0},observer:!0,observeParents:!0}))}v();let L;window.addEventListener("resize",()=>{clearTimeout(L),L=setTimeout(v,150)});function h(t,n,S=8){const m=document.querySelector(t),b=document.querySelector(n);!m||!b||m.addEventListener("click",()=>{const g=b.classList.toggle("expanded");m.textContent=g?"Скрыть":"Показать все",b.querySelectorAll("li").forEach((q,B)=>{B>=S&&(q.style.display=g?"list-item":"none")}),window.innerWidth<768&&(n===".brands_list"&&l&&l.update(),n===".repair_list"&&a&&a.update(),n===".price_list"&&u&&u.update())})}h(".brands_toggle",".brands_list",8),h(".repair_toggle",".repair_list",4)});
